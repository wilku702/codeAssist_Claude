## Claude API Feedback

### Insights
- The calculator logic looks solid with proper **Shunting Yard algorithm** implementation and **RPN evaluation**.
- Error handling could be improved: the lexer has a string formatting bug that will crash on invalid characters, and the REPL doesn’t catch exceptions.
- **Division by zero** isn’t handled – this could cause the calculator to crash during evaluation.
- The **REPL loop** doesn’t handle exceptions, so any parsing or evaluation error will terminate the program instead of showing an error message.

---

### Annotations
| Pattern | Comment |
|---------|---------|
| `raise CalculatorException\$begin:math:text$"Unknown character"\\\\.format\\\\(string\\\\[i\\\\]\\$end:math:text$\\)` | String formatting bug: the `format` method needs a placeholder. Change to `"Unknown character: {}".format(string[i])` to properly display the invalid character. |
| `val = op2 / op1` | Division by zero isn’t handled. Consider adding a check: `if op1 == 0: raise CalculatorException("Division by zero")` before the division. |
| `value = self\\.eval\$begin:math:text$line\\$end:math:text$` | The REPL should catch `CalculatorException` to show user-friendly error messages instead of crashing. Wrap in `try/except` and print the error. |
| `def is_operand\$begin:math:text$self, token\\$end:math:text$:` | The `is_operand` method incorrectly includes parentheses – operands should only be numbers. Consider renaming or fixing the logic since parens aren’t operands. |